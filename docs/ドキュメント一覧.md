# スペック開発に必要なドキュメント一覧

## 文書情報

| 項目 | 内容 |
|------|------|
| 文書名 | ドキュメント一覧 |
| プロジェクト名 | img-resizer |
| バージョン | 1.0.0 |
| 作成日 | 2024年 |
| 最終更新日 | 2025年12月2日 |

---

## 概要

このドキュメントは、スペック開発（Specification-driven Development）に必要なドキュメントの一覧と、各ドキュメントの目的、内容、作成タイミングを定義します。

---

## ドキュメント分類

### Phase 1: 開発開始前（必須ドキュメント）

開発を開始する前に作成すべき必須ドキュメントです。

#### 1. 要件定義書 ✅ 作成済み
- **ファイル名**: `docs/要件定義書.md`
- **目的**: プロジェクトの目的、機能要件、非機能要件を明確化
- **内容**:
  - プロジェクト概要
  - 機能要件（FR-001～FR-008）
  - 非機能要件（NFR-001～NFR-007）
  - 制約条件
  - 前提条件
  - スコープ（含む/含まない機能）
  - 用語定義
- **作成タイミング**: プロジェクト開始時
- **更新タイミング**: 要件が変更された時

#### 2. 機能仕様書 ✅ 作成済み
- **ファイル名**: `docs/機能仕様書.md`
- **目的**: 各機能の詳細な動作仕様を定義
- **内容**:
  - 各機能の詳細仕様
  - 入力・出力の定義
  - 処理フロー（フローチャート、シーケンス図）
  - ビジネスルール
  - エッジケースの処理
  - 正常系・異常系のシナリオ
  - 2種類の変換方式（全体変換方式・中央クロップ方式）の詳細仕様
- **作成タイミング**: 要件定義書承認後、設計開始前
- **更新タイミング**: 機能仕様が変更された時

#### 3. API仕様書 ✅ 作成済み
- **ファイル名**: `docs/API仕様書.md`
- **目的**: RESTful APIの詳細仕様を定義
- **内容**:
  - エンドポイント一覧
  - リクエスト/レスポンススキーマ
  - エラーコード定義
  - HTTPステータスコード
  - 認証・認可（該当する場合）
  - 使用例（リクエスト/レスポンス例）
  - レート制限（該当する場合）
  - バージョニング方針
  - 2種類の変換方式（fit/crop）のAPI仕様
- **作成タイミング**: 機能仕様書承認後、実装開始前
- **更新タイミング**: API仕様が変更された時
- **補足**: Swagger/OpenAPIで補完可能

#### 4. データ仕様書 ✅ 作成済み
- **ファイル名**: `docs/データ仕様書.md`
- **目的**: データモデルとデータ構造を定義
- **内容**:
  - エンティティ定義
  - データ型・制約
  - ファイル形式・構造
  - 設定ファイル仕様（appsettings.json等）
  - データフロー
  - データ検証ルール
- **作成タイミング**: 機能仕様書承認後、設計開始前
- **更新タイミング**: データ構造が変更された時

---

### Phase 2: 設計フェーズ

設計フェーズで作成すべきドキュメントです。

#### 5. 基本設計書 ✅ 作成済み
- **ファイル名**: `docs/基本設計書.md`
- **目的**: アーキテクチャと設計方針を文書化（概要レベル）
- **内容**:
  - プロジェクト概要
  - アーキテクチャ概要（クリーンアーキテクチャ）
  - レイヤー構成と責務
  - プロジェクト構造
  - 依存関係のルール
  - API設計概要
  - 設定ファイル設計概要
  - 画像変換ロジック概要
- **作成タイミング**: 要件定義書承認後
- **更新タイミング**: アーキテクチャが変更された時

#### 5-2. 詳細設計書 ✅ 作成済み
- **ファイル名**: `docs/詳細設計書.md`
- **目的**: 詳細な実装設計を定義
- **内容**:
  - クラス設計（詳細）
  - インターフェース定義（詳細）
  - 画像変換アルゴリズム詳細
  - エラーハンドリング詳細
  - 依存性注入の設定（詳細）
  - ロギング戦略（詳細）
  - パフォーマンス考慮事項
  - セキュリティ考慮事項
- **作成タイミング**: 基本設計書承認後、実装開始前
- **更新タイミング**: 実装設計が変更された時

#### 6. アーキテクチャ詳細 ✅ 既存
- **ファイル名**: `docs/詳細設計書.md`（統合済み）
- **目的**: 詳細なクラス設計と実装方針を定義
- **内容**:
  - 詳細なクラス設計
  - インターフェース定義
  - アルゴリズム詳細
  - 依存性注入の設定
  - ロギング戦略
- **作成タイミング**: 設計書承認後、実装開始前
- **更新タイミング**: 設計が変更された時

#### 7. エラーハンドリング仕様書 ✅ 作成済み
- **ファイル名**: `docs/エラーハンドリング仕様書.md`
- **目的**: エラー処理の方針と実装仕様を定義
- **内容**:
  - エラー分類
  - エラーコード体系
  - エラーレスポンス形式
  - ログ出力方針
  - 例外処理の実装方針
  - リトライ・フォールバック戦略
- **作成タイミング**: 設計フェーズ
- **更新タイミング**: エラーハンドリング方針が変更された時

#### 8. リファクタリング改善案 ✅ 作成済み
- **ファイル名**: `docs/リファクタリング改善案.md`
- **目的**: モダンな設計への改善提案とリファクタリング計画を定義
- **内容**:
  - 現状評価（良い点・改善点）
  - Result パターン導入
  - グローバル例外ハンドラー実装
  - MediatR導入によるCQRS実装
  - FluentValidation導入
  - ✅ ImageSharp導入（実装完了: 2025-12-02）
  - ✅ 設定クラスの強化（実装完了: 2025-12-02）
  - ✅ Serilog導入（実装完了: 2025-12-02）
  - Minimal API検討
  - ドメインイベントの導入
  - 優先度と実施計画
  - 期待される効果
- **作成タイミング**: 初期実装完了後、リファクタリング前
- **更新タイミング**: アーキテクチャ改善が必要になった時

---

### Phase 3: 実装前

実装を開始する前に作成すべきドキュメントです。

#### 9. テスト仕様書 ✅ 作成済み・実装完了
- **ファイル名**: `docs/テスト仕様書.md`
- **目的**: テスト方針とテストケースを定義
- **内容**:
  - テスト方針
  - テストレベル（単体、統合、E2E）
  - テストケース一覧
  - テストデータ定義
  - テストカバレッジ目標
  - モック・スタブの使用方針
  - テスト実行手順
- **作成タイミング**: 設計承認後、実装開始前
- **更新タイミング**: テスト方針が変更された時、実装完了時
- **作成日**: 2025年12月2日
- **最終更新日**: 2025年12月2日
- **実装状況**: ✅ 実装完了（62テスト、すべて成功）
  - Domain層: 4テスト
  - Application層: 28テスト
  - Infrastructure層: 21テスト
  - Api層: 9テスト

#### 10. セキュリティ仕様書 📝 作成予定
- **ファイル名**: `docs/セキュリティ仕様書.md`
- **目的**: セキュリティ要件と対策を定義
- **内容**:
  - セキュリティ要件
  - 脅威分析
  - セキュリティ対策
  - 認証・認可方式（該当する場合）
  - データ保護方針
  - セキュリティテスト方針
- **作成タイミング**: 設計フェーズ
- **更新タイミング**: セキュリティ要件が変更された時

---

### Phase 4: 実装中・実装後

実装中および実装後に作成すべきドキュメントです。

#### 11. パフォーマンス仕様書 📝 作成予定
- **ファイル名**: `docs/パフォーマンス仕様書.md`
- **目的**: パフォーマンス要件と最適化方針を定義
- **内容**:
  - パフォーマンス要件
  - 負荷目標
  - リソース制約
  - 最適化方針
  - パフォーマンステスト計画
  - ボトルネック分析
- **作成タイミング**: 実装中（必要に応じて）
- **更新タイミング**: パフォーマンス要件が変更された時

#### 12. 運用仕様書 📝 作成予定
- **ファイル名**: `docs/運用仕様書.md`
- **目的**: 運用・保守に関する仕様を定義
- **内容**:
  - デプロイ手順
  - 環境構成
  - 監視・アラート設定
  - バックアップ・復旧手順
  - ログ管理方針
  - 障害対応手順
- **作成タイミング**: 実装完了後、本番環境デプロイ前
- **更新タイミング**: 運用方針が変更された時

#### 13. 変更管理仕様書 📝 作成予定
- **ファイル名**: `docs/変更管理仕様書.md`
- **目的**: 変更管理プロセスを定義
- **内容**:
  - 変更管理プロセス
  - バージョン管理方針
  - リリース手順
  - ロールバック手順
  - 変更履歴の管理
- **作成タイミング**: 実装完了後
- **更新タイミング**: 変更管理プロセスが変更された時

---

## 補助ドキュメント

### 開発者向け

#### 14. README.md ✅ 既存
- **ファイル名**: `README.md`
- **目的**: プロジェクトの概要、セットアップ、基本的な使い方
- **内容**:
  - プロジェクトの説明
  - 技術スタック
  - セットアップ手順
  - 実行方法
  - 基本的な使用例
- **作成タイミング**: プロジェクト開始時
- **更新タイミング**: プロジェクトの主要な変更時

#### 15. CHANGELOG.md 📝 作成予定
- **ファイル名**: `CHANGELOG.md`
- **目的**: バージョンごとの変更履歴を記録
- **内容**:
  - バージョンごとの変更内容
  - 新機能
  - 修正
  - 破壊的変更
- **作成タイミング**: 初回リリース時
- **更新タイミング**: 各リリース時

#### 16. 開発ガイドライン 📝 作成予定
- **ファイル名**: `docs/開発ガイドライン.md`
- **目的**: 開発者向けのコーディング規約とガイドライン
- **内容**:
  - コーディング規約
  - コミットメッセージ規約
  - ブランチ戦略
  - コードレビュー方針
  - 開発環境のセットアップ
- **作成タイミング**: 開発開始時
- **更新タイミング**: ガイドラインが変更された時

---

## ドキュメント作成の優先順位

### 最優先（開発開始前に必須）
1. ✅ 要件定義書（作成済み）
2. ✅ 機能仕様書（作成済み）
3. ✅ API仕様書（作成済み）
4. ✅ データ仕様書（作成済み）

### 高優先度（設計フェーズ）
5. ✅ 基本設計書（作成済み）
5-2. ✅ 詳細設計書（作成済み）
6. ✅ アーキテクチャ詳細（既存）
7. ✅ エラーハンドリング仕様書（作成済み）
8. ✅ リファクタリング改善案（作成済み）

### 中優先度（実装前）
9. 📝 テスト仕様書
10. 📝 セキュリティ仕様書

### 低優先度（実装中・実装後）
11. 📝 パフォーマンス仕様書
12. 📝 運用仕様書
13. 📝 変更管理仕様書

---

## 推奨フォルダ構成

```
img-resizer/
├── README.md                          ✅ 既存
├── CHANGELOG.md                       📝 作成予定
├── .cursorrules                       ✅ 既存
├── docs/
│   ├── 要件定義書.md                   ✅ 作成済み
│   ├── 機能仕様書.md                   ✅ 作成済み
│   ├── API仕様書.md                    ✅ 作成済み
│   ├── データ仕様書.md                 ✅ 作成済み
│   ├── 基本設計書.md                   ✅ 作成済み
│   ├── 詳細設計書.md                   ✅ 作成済み
│   ├── ARCHITECTURE_DETAIL.md         ❌ 削除済み（詳細設計書に統合）
│   ├── エラーハンドリング仕様書.md      ✅ 作成済み
│   ├── リファクタリング改善案.md        ✅ 作成済み
│   ├── テスト仕様書.md                 📝 作成予定
│   ├── セキュリティ仕様書.md           📝 作成予定
│   ├── パフォーマンス仕様書.md         📝 作成予定
│   ├── 運用仕様書.md                   📝 作成予定
│   ├── 変更管理仕様書.md               📝 作成予定
│   ├── 開発ガイドライン.md             📝 作成予定
│   ├── ドキュメント一覧.md              ✅ 本ファイル
│   ├── ドキュメント作成ガイド.md        ✅ 既存
│   ├── クイックスタートガイド.md        ✅ 既存
│   ├── Gitセットアップガイド.md         ✅ 既存
│   └── GitHub認証トラブルシューティング.md ✅ 既存
```

---

## ドキュメント作成のチェックリスト

### Phase 1: 開発開始前
- [x] 要件定義書
- [x] 機能仕様書
- [x] API仕様書
- [x] データ仕様書

### Phase 2: 設計フェーズ
- [x] 基本設計書
- [x] 詳細設計書
- [x] アーキテクチャ詳細
- [x] エラーハンドリング仕様書
- [x] リファクタリング改善案

### Phase 3: 実装前
- [ ] テスト仕様書
- [ ] セキュリティ仕様書

### Phase 4: 実装中・実装後
- [ ] パフォーマンス仕様書
- [ ] 運用仕様書
- [ ] 変更管理仕様書

### 補助ドキュメント
- [x] README.md
- [ ] CHANGELOG.md
- [ ] 開発ガイドライン

---

## ドキュメント管理の原則

### 1. 一貫性
- 同じ用語・表記を統一する
- 同じフォーマットを使用する
- 関連ドキュメント間で整合性を保つ

### 2. 更新の徹底
- コードが変更されたら、関連ドキュメントも更新する
- 仕様変更時は必ず仕様書を更新する
- 変更履歴を記録する

### 3. 明確性
- 曖昧な表現を避ける
- 具体例を記載する
- 図表を活用する

### 4. アクセシビリティ
- 必要な情報にすぐアクセスできる
- ドキュメント間の相互参照を明確にする
- 検索しやすい構成にする

---

## 関連ドキュメント

- [要件定義書](./要件定義書.md)
- [機能仕様書](./機能仕様書.md)
- [API仕様書](./API仕様書.md)
- [基本設計書](./基本設計書.md)
- [詳細設計書](./詳細設計書.md)
- [エラーハンドリング仕様書](./エラーハンドリング仕様書.md)
- [リファクタリング改善案](./リファクタリング改善案.md)
- [README.md](../README.md)

---

## 変更履歴

| バージョン | 日付 | 変更内容 | 変更者 |
|-----------|------|----------|--------|
| 1.0.0 | - | 初版作成 | - |
| 1.1.0 | - | 機能仕様書・API仕様書の作成完了を反映 | - |
| 1.2.0 | - | DESIGN.mdを基本設計書と詳細設計書に分割 | - |
| 1.3.0 | - | ARCHITECTURE_DETAIL.mdを詳細設計書に統合 | - |
| 1.4.0 | 2025-11-30 | リファクタリング改善案を追加 | テックリード |
| 1.5.0 | 2025-12-01 | Resultパターン実装完了に伴うドキュメント更新を反映 | AI Assistant |
| 1.6.0 | 2025-12-02 | 設定クラスの強化、Serilog導入完了に伴うドキュメント更新を反映 | AI Assistant |

